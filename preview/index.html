<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SkyRate AI - React App Preview</title>
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Montserrat:wght@400;500;600;700;800&display=swap"
    rel="stylesheet">
  <style>
    :root {
      /* Base Colors */
      --brand-blue: #3B82F6;
      --brand-blue-dark: #2563EB;
      --brand-purple: #8B5CF6;
      --brand-teal: #10B981;

      /* Semantic Colors - Light Mode */
      --bg-main: #F1F5F9;
      --bg-secondary: #FFFFFF;
      --bg-card: #FFFFFF;
      --bg-glass: rgba(255, 255, 255, 0.9);

      --text-main: #0F172A;
      --text-muted: #64748B;
      --text-accent: #3B82F6;

      --border-color: #E2E8F0;
      --border-light: #F1F5F9;

      --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      --shadow-colored: 0 10px 40px -10px rgba(59, 130, 246, 0.15);

      --success: #10B981;
      --warning: #F59E0B;
      --error: #EF4444;

      --radius-sm: 8px;
      --radius-md: 12px;
      --radius-lg: 16px;
      --radius-xl: 24px;
    }

    .dark {
      /* Semantic Colors - Dark Mode */
      --bg-main: #020617;
      /* Deepest Slate */
      --bg-secondary: #0F172A;
      --bg-card: #1E293B;
      --bg-glass: rgba(30, 41, 59, 0.7);

      --text-main: #F8FAFC;
      --text-muted: #94A3B8;

      --border-color: #334155;
      --border-light: #1E293B;

      --shadow-colored: 0 10px 40px -10px rgba(59, 130, 246, 0.25);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background: var(--bg-main);
      color: var(--text-main);
      min-height: 100vh;
      line-height: 1.6;
      transition: background-color 0.3s ease, color 0.3s ease;
      font-feature-settings: "cv11", "ss01";
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      font-family: 'Montserrat', sans-serif;
      font-weight: 700;
      letter-spacing: -0.02em;
      line-height: 1.2;
    }

    /* Scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }

    ::-webkit-scrollbar-track {
      background: transparent;
    }

    ::-webkit-scrollbar-thumb {
      background: var(--border-color);
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: var(--text-muted);
    }

    /* Animations */
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Preview Controls - Refined */
    .preview-controls {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: rgba(15, 23, 42, 0.95);
      border-bottom: 1px solid #334155;
      padding: 0.75rem 1.5rem;
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: space-between;
      backdrop-filter: blur(10px);
    }

    .preview-controls h1 {
      font-size: 1rem;
      font-weight: 600;
      color: white;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .preview-tabs {
      display: flex;
      gap: 0.25rem;
      background: rgba(255, 255, 255, 0.05);
      padding: 4px;
      border-radius: 10px;
    }

    .preview-tab {
      padding: 0.5rem 1rem;
      border-radius: 8px;
      border: none;
      background: transparent;
      color: #94A3B8;
      cursor: pointer;
      font-family: 'Inter', sans-serif;
      font-size: 0.85rem;
      font-weight: 500;
      transition: all 0.2s;
    }

    .preview-tab:hover {
      color: white;
      background: rgba(255, 255, 255, 0.1);
    }

    .preview-tab.active {
      background: var(--brand-blue);
      color: white;
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
    }

    .theme-toggle {
      display: flex;
      gap: 0.25rem;
      background: rgba(255, 255, 255, 0.05);
      padding: 4px;
      border-radius: 8px;
    }

    .theme-btn {
      padding: 0.4rem 0.8rem;
      border-radius: 6px;
      border: 1px solid transparent;
      background: transparent;
      color: #94A3B8;
      cursor: pointer;
      font-size: 0.8rem;
      transition: all 0.2s;
    }

    .theme-btn.active {
      background: #334155;
      color: white;
    }

    /* Screen Container */
    .screen-container {
      margin-top: 60px;
      padding: 2rem;
      min-height: calc(100vh - 60px);
      display: flex;
      justify-content: center;
      align-items: flex-start;
    }

    .screen {
      display: none;
      background: var(--bg-main);
      border-radius: var(--radius-xl);
      overflow: hidden;
      box-shadow: var(--shadow-colored);
      width: 100%;
      max-width: 1440px;
      min-height: 800px;
      border: 1px solid var(--border-color);
      animation: fadeIn 0.4s ease-out;
    }

    .screen.active {
      display: flex;
      flex-direction: column;
    }

    /* ============================================
       SIGN IN PAGE
       ============================================ */
    .signin-page {
      min-height: 100%;
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-main) 100%);
      padding: 2rem;
      position: relative;
    }

    /* Decoration */
    .signin-page::before {
      content: '';
      position: absolute;
      width: 600px;
      height: 600px;
      background: radial-gradient(circle, rgba(59, 130, 246, 0.1) 0%, rgba(0, 0, 0, 0) 70%);
      top: -100px;
      right: -100px;
      border-radius: 50%;
      pointer-events: none;
    }

    .signin-card {
      width: 100%;
      max-width: 440px;
      background: var(--bg-card);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-xl);
      padding: 3rem;
      box-shadow: var(--shadow-xl);
      position: relative;
      z-index: 10;
    }

    .signin-logo {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      margin-bottom: 2rem;
    }

    .logo-icon {
      width: 120px;
      height: 120px;
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      margin-top: 0;
      background: white;
      box-shadow: var(--shadow-md);
      padding: 10px;
    }

    .logo-icon img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    .signin-title {
      text-align: center;
      margin-bottom: 0.5rem;
      font-size: 1.75rem;
      font-weight: 700;
      color: var(--text-main);
    }

    .signin-subtitle {
      text-align: center;
      color: var(--text-muted);
      margin-bottom: 2.5rem;
      font-size: 0.95rem;
    }

    .form-group {
      margin-bottom: 1.5rem;
    }

    .form-label {
      display: block;
      font-size: 0.9rem;
      font-weight: 600;
      color: var(--text-main);
      margin-bottom: 0.5rem;
    }

    .form-input {
      width: 100%;
      padding: 0.875rem 1rem;
      border: 1px solid var(--border-color);
      border-radius: var(--radius-md);
      background: var(--bg-main);
      color: var(--text-main);
      font-size: 1rem;
      transition: all 0.2s;
    }

    .form-input:focus {
      outline: none;
      border-color: var(--brand-blue);
      box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1);
      background: var(--bg-card);
    }

    .form-input::placeholder {
      color: var(--text-muted);
    }

    .form-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
    }

    .checkbox-label {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 0.9rem;
      color: var(--text-muted);
      cursor: pointer;
      user-select: none;
    }

    .checkbox-label input {
      accent-color: var(--brand-blue);
      width: 16px;
      height: 16px;
    }

    .forgot-link {
      font-size: 0.9rem;
      color: var(--brand-blue);
      text-decoration: none;
      font-weight: 600;
    }

    .forgot-link:hover {
      text-decoration: underline;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 0.875rem 1.5rem;
      border-radius: var(--radius-md);
      font-weight: 600;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.2s;
      border: none;
    }

    .btn:active {
      transform: translateY(1px);
    }

    .btn-primary {
      width: 100%;
      background: linear-gradient(135deg, var(--brand-blue), var(--brand-blue-dark));
      color: white;
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);
    }

    .btn-primary:hover {
      box-shadow: 0 8px 20px rgba(59, 130, 246, 0.35);
      filter: brightness(1.1);
    }

    .signin-footer {
      text-align: center;
      margin-top: 2rem;
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    .signin-footer a {
      color: var(--brand-blue);
      text-decoration: none;
      font-weight: 600;
    }

    /* OAuth Buttons */
    .btn-oauth {
      width: 100%;
      padding: 0.875rem 1rem;
      border: 1px solid var(--border-color);
      border-radius: var(--radius-md);
      background: var(--bg-card);
      color: var(--text-main);
      font-size: 0.95rem;
      font-weight: 500;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      margin-bottom: 0.75rem;
      transition: all 0.2s;
    }

    .btn-oauth:hover {
      background: var(--bg-secondary);
      border-color: #CBD5E1;
      transform: translateY(-1px);
    }

    .divider {
      display: flex;
      align-items: center;
      margin: 2rem 0;
    }

    .divider::before,
    .divider::after {
      content: '';
      flex: 1;
      height: 1px;
      background: var(--border-color);
    }

    .divider span {
      padding: 0 1rem;
      color: var(--text-muted);
      font-size: 0.85rem;
      font-weight: 500;
    }

    /* Account Type Selector */
    .account-type-selector {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
    }

    .account-type-option {
      position: relative;
      cursor: pointer;
    }

    .account-type-option input {
      position: absolute;
      opacity: 0;
    }

    .account-type-option .option-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 1.25rem;
      border: 2px solid var(--border-color);
      border-radius: var(--radius-md);
      background: var(--bg-main);
      transition: all 0.2s;
    }

    .account-type-option:hover .option-content {
      border-color: var(--brand-blue);
      background: rgba(59, 130, 246, 0.05);
    }

    .account-type-option.selected .option-content {
      border-color: var(--brand-blue);
      background: rgba(59, 130, 246, 0.1);
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.1);
    }

    .option-icon {
      font-size: 1.75rem;
      margin-bottom: 0.75rem;
    }

    .option-label {
      font-weight: 600;
      color: var(--text-main);
      font-size: 0.95rem;
    }

    .option-desc {
      font-size: 0.75rem;
      color: var(--text-muted);
      margin-top: 4px;
    }

    .form-hint {
      display: block;
      font-size: 0.75rem;
      color: var(--text-muted);
      margin-top: 6px;
    }

    .required {
      color: var(--error);
    }

    /* Portfolio Stats Short */
    .stat-chip {
      padding: 0.5rem 1rem;
      background: var(--bg-secondary);
      border: 1px solid var(--border-color);
      border-radius: 99px;
      font-size: 0.85rem;
      color: var(--text-main);
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    /* ============================================
       DASHBOARD / LAUNCHPAD - REDESIGNED
       ============================================ */
    .dashboard {
      display: flex;
      height: 100%;
      min-height: 800px;
    }

    /* Sidebar - Glassmorphic */
    .sidebar {
      width: 280px;
      background: var(--bg-glass);
      border-right: 1px solid var(--border-color);
      padding: 1.5rem 1rem;
      display: flex;
      flex-direction: column;
      backdrop-filter: blur(12px);
      flex-shrink: 0;
    }

    .sidebar-brand {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 0.75rem 1rem;
      margin-bottom: 2rem;
    }

    .sidebar-brand .logo-icon {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      box-shadow: none;
      padding: 4px;
      margin: 0;
    }

    .sidebar-brand-text p {
      font-size: 1rem;
      color: var(--text-main);
      font-weight: 700;
      letter-spacing: -0.01em;
    }

    .sidebar-section {
      margin-bottom: 2rem;
    }

    .sidebar-section-title {
      font-size: 0.75rem;
      font-weight: 700;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.08em;
      margin-bottom: 0.75rem;
      padding-left: 1rem;
    }

    .nav-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 0.75rem 1rem;
      border-radius: var(--radius-md);
      color: var(--text-muted);
      cursor: pointer;
      transition: all 0.2s;
      margin-bottom: 4px;
      font-weight: 500;
    }

    .nav-item:hover {
      background: var(--bg-card);
      color: var(--text-main);
    }

    .nav-item.active {
      background: rgba(59, 130, 246, 0.1);
      color: var(--brand-blue);
      font-weight: 600;
      box-shadow: var(--shadow-sm);
    }

    .nav-icon {
      font-size: 1.25rem;
      width: 24px;
      text-align: center;
    }

    .nav-label {
      font-size: 0.9rem;
      font-weight: inherit;
    }

    .model-status {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 0.6rem 1rem;
      border-radius: var(--radius-sm);
      margin-bottom: 4px;
      font-size: 0.85rem;
      color: var(--text-main);
      transition: background 0.2s;
    }

    .model-status:hover {
      background: var(--bg-card);
    }

    .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--success);
      box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.15);
    }

    .status-dot.offline {
      background: var(--text-muted);
      box-shadow: none;
    }

    /* Main Content */
    .main-content {
      flex: 1;
      padding: 2.5rem 3rem;
      overflow-y: auto;
      background: linear-gradient(180deg, var(--bg-main) 0%, rgba(59, 130, 246, 0.02) 100%);
    }

    .welcome-header {
      margin-bottom: 3rem;
      position: relative;
    }

    .welcome-header h1 {
      font-size: 2.25rem;
      font-weight: 800;
      color: var(--text-main);
      margin-bottom: 0.75rem;
      background: linear-gradient(90deg, var(--text-main) 0%, var(--text-muted) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      line-height: 1.2;
    }

    .welcome-header p {
      color: var(--text-muted);
      font-size: 1.1rem;
      max-width: 600px;
    }

    /* Cards & Actions */
    .quick-actions {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1.5rem;
      margin-bottom: 3rem;
    }

    .action-card {
      padding: 1.75rem;
      background: var(--bg-card);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-lg);
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      box-shadow: var(--shadow-sm);
    }

    .action-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--brand-blue), var(--brand-purple));
      opacity: 0;
      transition: opacity 0.3s;
    }

    .action-card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-lg);
      border-color: var(--brand-blue);
    }

    .action-card:hover::before {
      opacity: 1;
    }

    .action-icon {
      font-size: 2rem;
      margin-bottom: 1rem;
    }

    .action-title {
      font-weight: 700;
      font-size: 1.1rem;
      color: var(--text-main);
      margin-bottom: 0.5rem;
    }

    .action-desc {
      font-size: 0.85rem;
      color: var(--text-muted);
      line-height: 1.5;
    }

    .section-title {
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--text-main);
      margin-bottom: 1.5rem;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    /* Portfolio Grid */
    .portfolio-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1.5rem;
      margin-bottom: 2rem;
    }

    .portfolio-card {
      padding: 1.5rem;
      background: var(--bg-card);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-lg);
      transition: box-shadow 0.2s;
    }

    .portfolio-card:hover {
      box-shadow: var(--shadow-md);
    }

    .portfolio-header {
      display: flex;
      align-items: center;
      gap: 16px;
      margin-bottom: 1.5rem;
    }

    .portfolio-avatar {
      width: 48px;
      height: 48px;
      background: linear-gradient(135deg, var(--brand-blue), var(--brand-purple));
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 700;
      font-size: 1rem;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    }

    .portfolio-name {
      font-weight: 700;
      color: var(--text-main);
      font-size: 1rem;
    }

    .portfolio-ben {
      font-size: 0.8rem;
      color: var(--text-muted);
      font-family: 'JetBrains Mono', monospace;
    }

    /* Override for Card Stats */
    .portfolio-card .portfolio-stats {
      justify-content: space-between;
      padding-top: 1.25rem;
      border-top: 1px solid var(--border-color);
      gap: 0;
    }

    .stat-item {
      text-align: center;
    }

    .stat-value {
      font-weight: 700;
      color: var(--text-main);
      font-size: 1.1rem;
    }

    .stat-label {
      font-size: 0.75rem;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-top: 4px;
    }

    /* Chat Input - Refined */
    .chat-input-container {
      position: sticky;
      bottom: 0;
      background: var(--bg-main);
      padding: 1.5rem 0;
      border-top: 1px solid transparent;
      margin-top: auto;
      z-index: 10;
    }

    .chat-input-wrapper {
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 0.75rem 1rem 0.75rem 1.5rem;
      background: var(--bg-card);
      border: 1px solid var(--border-color);
      border-radius: 99px;
      box-shadow: var(--shadow-lg);
      transition: border-color 0.2s, transform 0.2s;
    }

    .chat-input-wrapper:focus-within {
      border-color: var(--brand-blue);
      transform: translateY(-2px);
    }

    .chat-input {
      flex: 1;
      border: none;
      background: transparent;
      color: var(--text-main);
      font-size: 1rem;
      outline: none;
    }

    .chat-input::placeholder {
      color: var(--text-muted);
    }

    .send-btn {
      width: 44px;
      height: 44px;
      background: var(--brand-blue);
      border: none;
      border-radius: 50%;
      color: white;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
      box-shadow: 0 2px 6px rgba(59, 130, 246, 0.4);
    }

    .send-btn:hover {
      transform: scale(1.05);
      background: var(--brand-blue-dark);
    }

    /* ============================================
       SEARCH RESULTS & MESSAGES
       ============================================ */
    .chat-area {
      flex: 1;
      padding: 1rem;
      overflow-y: auto;
    }

    .message {
      display: flex;
      gap: 16px;
      margin-bottom: 2rem;
      max-width: 900px;
    }

    .message-avatar {
      width: 40px;
      height: 40px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      font-size: 1.25rem;
    }

    .message-avatar.user {
      background: var(--bg-secondary);
      border: 1px solid var(--border-color);
      color: var(--brand-purple);
    }

    .message-avatar.assistant {
      background: linear-gradient(135deg, var(--brand-blue), #2DD4BF);
      color: white;
      box-shadow: 0 4px 6px -1px rgba(59, 130, 246, 0.2);
    }

    .message-content {
      flex: 1;
    }

    .message-role {
      font-size: 0.75rem;
      font-weight: 700;
      color: var(--text-muted);
      margin-bottom: 6px;
      letter-spacing: 0.05em;
    }

    .message-text {
      color: var(--text-main);
      line-height: 1.7;
      font-size: 1rem;
    }

    .results-banner {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 0.75rem 1.25rem;
      background: rgba(16, 185, 129, 0.1);
      border: 1px solid rgba(16, 185, 129, 0.2);
      border-radius: var(--radius-md);
      color: var(--success);
      font-weight: 600;
      font-size: 0.9rem;
      margin: 1.5rem 0;
    }

    /* Tables */
    .data-table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
      margin: 1.5rem 0;
      border: 1px solid var(--border-color);
      border-radius: var(--radius-lg);
      overflow: hidden;
      box-shadow: var(--shadow-sm);
      background: var(--bg-card);
    }

    .data-table th {
      background: var(--bg-secondary);
      padding: 1rem 1.25rem;
      text-align: left;
      font-size: 0.75rem;
      font-weight: 700;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.05em;
      border-bottom: 1px solid var(--border-color);
    }

    .data-table td {
      padding: 1rem 1.25rem;
      border-bottom: 1px solid var(--border-color);
      font-size: 0.9rem;
      color: var(--text-main);
    }

    .data-table tr:last-child td {
      border-bottom: none;
    }

    .data-table tr:hover td {
      background: var(--bg-secondary);
    }

    .status-badge {
      padding: 0.375rem 0.875rem;
      border-radius: 99px;
      font-size: 0.75rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.02em;
    }

    .status-badge.denied {
      background: rgba(239, 68, 68, 0.1);
      color: var(--error);
      border: 1px solid rgba(239, 68, 68, 0.2);
    }

    .status-badge.funded {
      background: rgba(16, 185, 129, 0.1);
      color: var(--success);
      border: 1px solid rgba(16, 185, 129, 0.2);
    }

    .table-toolbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }

    .table-info {
      font-size: 0.9rem;
      color: var(--text-muted);
      font-weight: 500;
    }

    .table-actions {
      display: flex;
      gap: 10px;
    }

    .table-btn {
      padding: 0.5rem 1rem;
      background: var(--bg-card);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-sm);
      color: var(--text-main);
      font-size: 0.85rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: all 0.2s;
      font-weight: 500;
    }

    .table-btn:hover {
      background: var(--bg-secondary);
      border-color: var(--text-muted);
    }

    /* Analysis View */
    .analysis-card {
      background: var(--bg-card);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-xl);
      padding: 2.5rem;
      margin: 1.5rem 0;
      box-shadow: var(--shadow-md);
    }

    .analysis-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 2rem;
    }

    .analysis-entity {
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .entity-avatar {
      width: 64px;
      height: 64px;
      background: linear-gradient(135deg, var(--brand-blue), var(--brand-purple));
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 700;
      font-size: 1.5rem;
      box-shadow: var(--shadow-md);
    }

    .entity-info h3 {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--text-main);
      margin-bottom: 4px;
    }

    .entity-info p {
      color: var(--text-muted);
      font-size: 0.95rem;
      font-family: 'JetBrains Mono', monospace;
    }

    .analysis-metrics {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1.5rem;
      margin-bottom: 2rem;
    }

    .metric-card {
      padding: 1.5rem;
      background: var(--bg-secondary);
      border-radius: var(--radius-lg);
      text-align: center;
      border: 1px solid transparent;
      transition: all 0.2s;
    }

    .metric-card:hover {
      border-color: var(--border-color);
      background: var(--bg-card);
      box-shadow: var(--shadow-sm);
    }

    .metric-value {
      font-size: 1.75rem;
      font-weight: 800;
      color: var(--text-main);
      margin-bottom: 4px;
    }

    .metric-label {
      font-size: 0.8rem;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .analysis-section {
      margin-top: 2rem;
      padding-top: 2rem;
      border-top: 1px solid var(--border-color);
    }

    .analysis-section h4 {
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--text-main);
      margin-bottom: 1.25rem;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .insight-list {
      list-style: none;
    }

    .insight-item {
      display: flex;
      gap: 16px;
      padding: 1.25rem;
      background: var(--bg-secondary);
      border-radius: var(--radius-lg);
      margin-bottom: 12px;
      border: 1px solid transparent;
      transition: all 0.2s;
    }

    .insight-item:hover {
      border-color: var(--border-color);
      background: var(--bg-card);
      box-shadow: var(--shadow-sm);
    }

    .insight-icon {
      font-size: 1.5rem;
    }

    .insight-text {
      flex: 1;
      color: var(--text-main);
      font-size: 0.95rem;
      line-height: 1.6;
    }

    /* Deadlines */
    .deadlines-section {
      margin-top: 3rem;
    }

    .deadline-card {
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 1.25rem;
      background: var(--bg-card);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-lg);
      margin-bottom: 12px;
      transition: all 0.2s;
    }

    .deadline-card:hover {
      border-color: var(--warning);
      box-shadow: var(--shadow-sm);
    }

    .deadline-icon {
      width: 48px;
      height: 48px;
      background: rgba(37, 99, 235, 0.1);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
    }

    .deadline-info {
      flex: 1;
    }

    .deadline-title {
      font-weight: 600;
      color: var(--text-main);
      font-size: 0.95rem;
    }

    .deadline-date {
      font-size: 0.85rem;
      color: var(--text-muted);
      margin-top: 4px;
    }

    .deadline-badge {
      padding: 0.35rem 0.85rem;
      background: rgba(245, 158, 11, 0.1);
      color: var(--warning);
      border-radius: 99px;
      font-size: 0.8rem;
      font-weight: 600;
      border: 1px solid rgba(245, 158, 11, 0.2);
    }

    /* Selectable Rows */
    .selectable-row {
      cursor: pointer;
      transition: all 0.15s ease;
    }

    .selectable-row:hover {
      background: var(--bg-secondary) !important;
    }

    .selectable-row.selected {
      background: rgba(59, 130, 246, 0.08) !important;
    }

    .selectable-row.selected td {
      border-color: rgba(59, 130, 246, 0.2);
    }

    .row-checkbox {
      accent-color: var(--brand-blue);
      cursor: pointer;
    }

    .selection-toolbar {
      animation: slideDown 0.2s ease;
    }

    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Portfolio Tabs */
    .portfolio-tabs {
      display: flex;
      gap: 8px;
      margin-bottom: 1.5rem;
      border-bottom: 1px solid var(--border-color);
      padding-bottom: 0;
    }

    .portfolio-tab {
      padding: 0.75rem 1.25rem;
      border: none;
      background: transparent;
      color: var(--text-muted);
      font-size: 0.95rem;
      font-weight: 500;
      cursor: pointer;
      border-bottom: 2px solid transparent;
      transition: all 0.2s;
      margin-bottom: -1px;
    }

    .portfolio-tab:hover {
      color: var(--text-main);
    }

    .portfolio-tab.active {
      color: var(--brand-blue);
      border-bottom: 2px solid var(--brand-blue);
      background: transparent;
    }

    .portfolio-tab-content {
      display: none;
      animation: fadeIn 0.3s ease;
    }

    .portfolio-tab-content.active {
      display: block;
    }

    .portfolio-toolbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
    }

    .portfolio-type-toggle {
      display: flex;
      background: var(--bg-secondary);
      border-radius: 8px;
      padding: 4px;
    }

    .type-btn {
      padding: 0.5rem 1rem;
      border: none;
      background: transparent;
      color: var(--text-muted);
      font-size: 0.8rem;
      font-weight: 500;
      cursor: pointer;
      border-radius: 6px;
      transition: all 0.2s;
    }

    .type-btn.active {
      background: var(--bg-card);
      color: var(--text-main);
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }

    /* Import/Export Section */
    .import-export-section {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1.5rem;
    }

    .import-card {
      padding: 2rem;
      background: var(--bg-card);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-lg);
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      height: 100%;
    }

    .import-icon {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    .import-card h4 {
      font-size: 1.1rem;
      margin-bottom: 0.5rem;
      font-weight: 600;
      color: var(--text-main);
    }

    .import-card p {
      font-size: 0.85rem;
      color: var(--text-muted);
      margin-bottom: 1rem;
    }

    .template-preview {
      background: var(--bg-main);
      padding: 1rem;
      border-radius: var(--radius-md);
      width: 100%;
      font-size: 0.75rem;
      margin-bottom: 1rem;
      overflow-x: auto;
      border: 1px solid var(--border-color);
      text-align: left;
    }

    .template-preview code {
      font-family: 'JetBrains Mono', monospace;
    }

    .upload-zone {
      border: 2px dashed var(--border-color);
      border-radius: var(--radius-lg);
      padding: 1.5rem;
      text-align: center;
      cursor: pointer;
      transition: all 0.2s;
      width: 100%;
    }

    .upload-zone:hover {
      border-color: var(--brand-blue);
      background: rgba(59, 130, 246, 0.05);
    }

    .upload-icon {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }

    .upload-zone p {
      margin-bottom: 0.25rem;
      color: var(--text-main);
      font-weight: 500;
    }

    .upload-zone span {
      font-size: 0.75rem;
      color: var(--text-muted);
    }

    .manual-add-form {
      text-align: left;
      width: 100%;
    }

    /* Add to Portfolio Button in Table */
    .add-portfolio-btn {
      padding: 0.35rem 0.75rem;
      background: transparent;
      border: 1px solid var(--brand-blue);
      color: var(--brand-blue);
      border-radius: 6px;
      font-size: 0.75rem;
      cursor: pointer;
      transition: all 0.2s;
      white-space: nowrap;
      font-weight: 500;
    }

    .add-portfolio-btn:hover {
      background: var(--brand-blue);
      color: white;
    }

    .add-portfolio-btn.added {
      background: var(--success);
      border-color: var(--success);
      color: white;
    }
  </style>
</head>

<body>
  <!-- Preview Controls -->
  <div class="preview-controls">
    <h1>üé® SkyRate AI - React UI Preview</h1>
    <div class="preview-tabs">
      <button class="preview-tab active" onclick="showScreen('signin')">Sign In</button>
      <button class="preview-tab" onclick="showScreen('signup')">Sign Up</button>
      <button class="preview-tab" onclick="showScreen('dashboard')">Dashboard</button>
      <button class="preview-tab" onclick="showScreen('results')">Search Results</button>
      <button class="preview-tab" onclick="showScreen('analysis')">Analysis View</button>
    </div>
    <div class="theme-toggle">
      <button class="theme-btn active" onclick="setTheme('light')">‚òÄÔ∏è Light</button>
      <button class="theme-btn" onclick="setTheme('dark')">üåô Dark</button>
    </div>
  </div>

  <div class="screen-container">
    <!-- ============================================
         SIGN IN SCREEN
         ============================================ -->
    <div id="signin" class="screen active">
      <div class="signin-page">
        <div class="signin-card">
          <div class="signin-logo">
            <div class="logo-icon"><img src="logo.PNG" alt="SkyRate AI"></div>
          </div>
          <h2 class="signin-title">Welcome back</h2>
          <p class="signin-subtitle">Sign in to continue to SkyRate AI</p>

          <!-- OAuth Buttons -->
          <button class="btn btn-oauth google">
            <svg width="18" height="18" viewBox="0 0 24 24">
              <path fill="#4285F4"
                d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" />
              <path fill="#34A853"
                d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" />
              <path fill="#FBBC05"
                d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" />
              <path fill="#EA4335"
                d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" />
            </svg>
            Continue with Google
          </button>
          <button class="btn btn-oauth microsoft">
            <svg width="18" height="18" viewBox="0 0 24 24">
              <path fill="#F25022" d="M1 1h10v10H1z" />
              <path fill="#00A4EF" d="M1 13h10v10H1z" />
              <path fill="#7FBA00" d="M13 1h10v10H13z" />
              <path fill="#FFB900" d="M13 13h10v10H13z" />
            </svg>
            Continue with Microsoft
          </button>

          <div class="divider">
            <span>or sign in with email</span>
          </div>

          <form>
            <div class="form-group">
              <label class="form-label">Email</label>
              <input type="email" class="form-input" placeholder="you@company.com">
            </div>
            <div class="form-group">
              <label class="form-label">Password</label>
              <input type="password" class="form-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
            </div>
            <div class="form-row">
              <label class="checkbox-label">
                <input type="checkbox">
                Remember me
              </label>
              <a href="#" class="forgot-link">Forgot password?</a>
            </div>
            <button type="button" class="btn btn-primary">Sign In</button>
          </form>

          <p class="signin-footer">
            Don't have an account? <a href="#">Sign up</a>
          </p>
        </div>
      </div>
    </div>

    <!-- ============================================
         SIGN UP SCREEN
         ============================================ -->
    <div id="signup" class="screen">
      <div class="signin-page">
        <div class="signin-card">
          <div class="signin-logo">
            <div class="logo-icon"><img src="logo.PNG" alt="SkyRate AI"></div>
          </div>
          <h2 class="signin-title">Create account</h2>
          <p class="signin-subtitle">Start your free 14-day trial</p>

          <!-- OAuth Buttons -->
          <button class="btn btn-oauth google">
            <svg width="18" height="18" viewBox="0 0 24 24">
              <path fill="#4285F4"
                d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" />
              <path fill="#34A853"
                d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" />
              <path fill="#FBBC05"
                d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" />
              <path fill="#EA4335"
                d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" />
            </svg>
            Continue with Google
          </button>
          <button class="btn btn-oauth microsoft">
            <svg width="18" height="18" viewBox="0 0 24 24">
              <path fill="#F25022" d="M1 1h10v10H1z" />
              <path fill="#00A4EF" d="M1 13h10v10H1z" />
              <path fill="#7FBA00" d="M13 1h10v10H13z" />
              <path fill="#FFB900" d="M13 13h10v10H13z" />
            </svg>
            Continue with Microsoft
          </button>

          <div class="divider">
            <span>or sign up with email</span>
          </div>

          <form>
            <!-- Account Type Selection -->
            <div class="form-group">
              <label class="form-label">I am a...</label>
              <div class="account-type-selector">
                <label class="account-type-option selected" onclick="selectAccountType('consultant')">
                  <input type="radio" name="accountType" value="consultant" checked>
                  <div class="option-content">
                    <span class="option-icon">üìã</span>
                    <span class="option-label">Consultant</span>
                    <span class="option-desc">E-Rate filing specialist</span>
                  </div>
                </label>
                <label class="account-type-option" onclick="selectAccountType('vendor')">
                  <input type="radio" name="accountType" value="vendor">
                  <div class="option-content">
                    <span class="option-icon">üè¢</span>
                    <span class="option-label">Vendor</span>
                    <span class="option-desc">Service provider</span>
                  </div>
                </label>
              </div>
            </div>

            <div class="form-group">
              <label class="form-label">Full Name</label>
              <input type="text" class="form-input" placeholder="John Doe">
            </div>
            <div class="form-group">
              <label class="form-label">Company</label>
              <input type="text" class="form-input" placeholder="E-Rate Consulting Inc.">
            </div>

            <!-- Consultant License Field -->
            <div class="form-group" id="licenseField">
              <label class="form-label">USAC Consultant Registration # <span class="required">*</span></label>
              <input type="text" class="form-input" placeholder="e.g., 12345678">
              <span class="form-hint">Your USAC-issued consultant identification number</span>
            </div>

            <!-- Vendor SPIN Field (hidden by default) -->
            <div class="form-group" id="spinField" style="display: none;">
              <label class="form-label">Service Provider ID (SPIN) <span class="required">*</span></label>
              <input type="text" class="form-input" placeholder="e.g., 143000001">
              <span class="form-hint">Your 9-digit USAC Service Provider Identification Number</span>
            </div>

            <div class="form-group">
              <label class="form-label">Email</label>
              <input type="email" class="form-input" placeholder="you@company.com">
            </div>
            <div class="form-group">
              <label class="form-label">Password</label>
              <input type="password" class="form-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
            </div>
            <div class="form-row">
              <label class="checkbox-label">
                <input type="checkbox">
                I agree to the Terms of Service
              </label>
            </div>
            <button type="button" class="btn btn-primary">Create Account</button>
          </form>

          <p class="signin-footer">
            Already have an account? <a href="#">Sign in</a>
          </p>
        </div>
      </div>
    </div>

    <!-- ============================================
         DASHBOARD / LAUNCHPAD
         ============================================ -->
    <div id="dashboard" class="screen">
      <div class="dashboard">
        <!-- Sidebar -->
        <div class="sidebar">
          <div class="sidebar-brand">
            <div class="logo-icon"><img src="favicon.ico" alt="SkyRate AI"></div>
            <div class="sidebar-brand-text">
              <p>E-Rate Intelligence</p>
            </div>
          </div>

          <div class="sidebar-section">
            <div class="sidebar-section-title">üß≠ Navigation</div>
            <div class="nav-item active">
              <span class="nav-icon">üí¨</span>
              <span class="nav-label">Strategy Chat</span>
            </div>
            <div class="nav-item vendor-only" id="vendorScoutNav">
              <span class="nav-icon">üîç</span>
              <span class="nav-label">Vendor Scout</span>
            </div>
            <div class="nav-item">
              <span class="nav-icon">üìä</span>
              <span class="nav-label">Reports</span>
            </div>

          </div>

          <div class="sidebar-section">
            <div class="sidebar-section-title">ü§ñ AI Models</div>
            <div class="model-status">
              <span class="status-dot"></span>
              <span>Claude Active</span>
            </div>
            <div class="model-status">
              <span class="status-dot"></span>
              <span>Gemini Active</span>
            </div>
            <div class="model-status">
              <span class="status-dot"></span>
              <span>DeepSeek Active</span>
            </div>
          </div>

          <div class="sidebar-section" style="margin-top: auto;">
            <div class="nav-item">
              <span class="nav-icon">‚öôÔ∏è</span>
              <span class="nav-label">Settings</span>
            </div>
          </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
          <div class="welcome-header">
            <h1>üöÄ Welcome to SkyRate AI</h1>
            <p>AI-powered E-Rate funding intelligence and compliance analysis</p>
          </div>

          <div class="section-title">üéØ Quick Actions</div>
          <div class="quick-actions">
            <div class="action-card">
              <div class="action-icon">üìä</div>
              <div class="action-title">Search Funding Data</div>
              <div class="action-desc">Query USAC database with natural language</div>
            </div>
            <div class="action-card">
              <div class="action-icon">‚ùå</div>
              <div class="action-title">Analyze Denials</div>
              <div class="action-desc">Find denied applications and appeal strategies</div>
            </div>
            <div class="action-card">
              <div class="action-icon">‚úÖ</div>
              <div class="action-title">View Funded Schools</div>
              <div class="action-desc">See successful funding requests</div>
            </div>
          </div>

          <div class="section-title">üìÇ My Portfolio</div>

          <!-- Portfolio Tabs -->
          <div class="portfolio-tabs">
            <button class="portfolio-tab active" onclick="showPortfolioTab('schools')">üè´ My Schools</button>
            <button class="portfolio-tab" onclick="showPortfolioTab('import')">üì• Import / Export</button>
          </div>

          <!-- Schools Tab -->
          <div id="portfolio-schools" class="portfolio-tab-content active">
            <div class="portfolio-toolbar">
              <div class="portfolio-stats">
                <span class="stat-chip">üìä 3 Schools</span>
                <span class="stat-chip">üí∞ $280.7K Total Funded</span>
              </div>
              <div class="portfolio-actions">
                <button class="table-btn">üì• Export All</button>
              </div>
            </div>

            <div class="portfolio-grid">
              <div class="portfolio-card">
                <div class="portfolio-header">
                  <div class="portfolio-avatar">HS</div>
                  <div>
                    <div class="portfolio-name">Horizon Schools</div>
                    <div class="portfolio-ben">BEN: 16012345</div>
                  </div>
                </div>
                <div class="portfolio-stats">
                  <div class="stat-item">
                    <div class="stat-value">FY 2024</div>
                    <div class="stat-label">Year</div>
                  </div>
                  <div class="stat-item">
                    <div class="stat-value">$125K</div>
                    <div class="stat-label">Funded</div>
                  </div>
                  <div class="stat-item">
                    <div class="stat-value">4/4</div>
                    <div class="stat-label">FRNs</div>
                  </div>
                </div>
              </div>
              <div class="portfolio-card">
                <div class="portfolio-header">
                  <div class="portfolio-avatar" style="background: linear-gradient(135deg, #EF4444, #F97316);">TC</div>
                  <div>
                    <div class="portfolio-name">TechCampus Charter</div>
                    <div class="portfolio-ben">BEN: 16098765</div>
                  </div>
                </div>
                <div class="portfolio-stats">
                  <div class="stat-item">
                    <div class="stat-value">FY 2024</div>
                    <div class="stat-label">Year</div>
                  </div>
                  <div class="stat-item">
                    <div class="stat-value" style="color: var(--error);">$0</div>
                    <div class="stat-label">Funded</div>
                  </div>
                  <div class="stat-item">
                    <div class="stat-value" style="color: var(--error);">0/2</div>
                    <div class="stat-label">FRNs</div>
                  </div>
                </div>
              </div>
              <div class="portfolio-card">
                <div class="portfolio-header">
                  <div class="portfolio-avatar" style="background: linear-gradient(135deg, #10B981, #059669);">GL</div>
                  <div>
                    <div class="portfolio-name">Gateway Learning</div>
                    <div class="portfolio-ben">BEN: 16045678</div>
                  </div>
                </div>
                <div class="portfolio-stats">
                  <div class="stat-item">
                    <div class="stat-value">FY 2024</div>
                    <div class="stat-label">Year</div>
                  </div>
                  <div class="stat-item">
                    <div class="stat-value">$87.5K</div>
                    <div class="stat-label">Funded</div>
                  </div>
                  <div class="stat-item">
                    <div class="stat-value">5/5</div>
                    <div class="stat-label">FRNs</div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Import/Export Tab -->
          <div id="portfolio-import" class="portfolio-tab-content" style="display: none;">
            <div class="import-export-section">
              <!-- Download Template -->
              <div class="import-card">
                <div class="import-icon">üìÑ</div>
                <h4>Download CSV Template</h4>
                <p>Get a pre-formatted template with the required columns for bulk import.</p>
                <div class="template-preview">
                  <code>organization_name, ben, state, funding_year, category</code>
                </div>
                <button class="btn btn-primary" style="width: 100%; margin-top: 1rem;" onclick="downloadTemplate()">
                  üì• Download Template
                </button>
              </div>

              <!-- Upload CSV -->
              <div class="import-card">
                <div class="import-icon">üì§</div>
                <h4>Upload Portfolio CSV</h4>
                <p>Import multiple schools at once from your CSV file.</p>
                <div class="upload-zone" id="uploadZone">
                  <div class="upload-icon">‚òÅÔ∏è</div>
                  <p>Drag & drop your CSV here</p>
                  <span>or</span>
                  <button class="table-btn" style="margin-top: 0.5rem;">Browse Files</button>
                </div>
              </div>

              <!-- Manual Add -->
              <div class="import-card">
                <div class="import-icon">‚ûï</div>
                <h4>Add Manually</h4>
                <p>Add a single school by entering its BEN number.</p>
                <div class="manual-add-form">
                  <input type="text" class="form-input" placeholder="Enter BEN (e.g., 16012345)">
                  <button class="btn btn-primary" style="margin-top: 0.75rem; width: 100%;">
                    üîç Look Up & Add
                  </button>
                </div>
              </div>
            </div>
          </div>

          <div class="deadlines-section">
            <div class="section-title">üìÖ Upcoming Deadlines</div>
            <div class="deadline-card">
              <div class="deadline-icon">üìù</div>
              <div class="deadline-info">
                <div class="deadline-title">Form 471 Filing Window</div>
                <div class="deadline-date">March 28, 2025</div>
              </div>
              <div class="deadline-badge">82 days</div>
            </div>
            <div class="deadline-card">
              <div class="deadline-icon">‚ö†Ô∏è</div>
              <div class="deadline-info">
                <div class="deadline-title">Appeal Deadline - TechCampus</div>
                <div class="deadline-date">February 15, 2026</div>
              </div>
              <div class="deadline-badge">40 days</div>
            </div>
          </div>

          <div class="chat-input-container">
            <div class="chat-input-wrapper">
              <input type="text" class="chat-input"
                placeholder="üîç Ask anything about E-Rate funding... (e.g., 'Show me denied schools in California for 2024')">
              <button class="send-btn">‚Üë</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ============================================
         SEARCH RESULTS
         ============================================ -->
    <div id="results" class="screen">
      <div class="dashboard">
        <div class="sidebar">
          <div class="sidebar-brand">
            <div class="logo-icon"><img src="favicon.ico" alt="SkyRate AI"></div>
            <div class="sidebar-brand-text">
              <p>E-Rate Intelligence</p>
            </div>
          </div>
          <div class="sidebar-section">
            <div class="sidebar-section-title">üìã Recent Queries</div>
            <div class="nav-item active">
              <span class="nav-icon">üí¨</span>
              <span class="nav-label">CA Denied 2024 (25)</span>
            </div>
            <div class="nav-item">
              <span class="nav-icon">üí¨</span>
              <span class="nav-label">AZ Denied 2025 (37)</span>
            </div>
            <div class="nav-item">
              <span class="nav-icon">üí¨</span>
              <span class="nav-label">Iowa Risk Analysis (21)</span>
            </div>
          </div>
        </div>

        <div class="main-content">
          <div class="chat-area">
            <!-- User Message -->
            <div class="message">
              <div class="message-avatar user">üë§</div>
              <div class="message-content">
                <div class="message-role">YOU</div>
                <div class="message-text">Show me denied schools in California for 2024</div>
              </div>
            </div>

            <!-- Assistant Response -->
            <div class="message">
              <div class="message-avatar assistant">ü§ñ</div>
              <div class="message-content">
                <div class="message-role">SKYRATE AI</div>
                <div class="message-text">
                  Searching denied applications in California for funding year 2024.
                  <br><br>
                  I found <strong>25 records</strong> matching your query.
                </div>

                <div class="results-banner">
                  ‚úÖ Found 25 records
                </div>

                <div class="table-toolbar">
                  <div class="table-info">üìä Displaying 25 records</div>
                  <div class="table-actions">
                    <button class="table-btn">üì• Export CSV</button>
                    <button class="table-btn">üîç Search</button>
                    <button class="table-btn">‚õ∂ Fullscreen</button>
                  </div>
                </div>

                <div class="selection-toolbar" id="selectionToolbar"
                  style="display: none; padding: 0.75rem 1rem; background: linear-gradient(135deg, rgba(37, 99, 235, 0.1), rgba(124, 58, 237, 0.1)); border: 1px solid var(--brand-blue); border-radius: 10px; margin-bottom: 1rem; display: flex; align-items: center; justify-content: space-between;">
                  <span class="selected-count" style="font-weight: 600; color: var(--brand-blue);">
                    <span id="selectedCount">2</span> records selected
                  </span>
                  <div style="display: flex; gap: 8px;">
                    <button class="btn btn-primary" style="width: auto; padding: 0.5rem 1rem;">ü§ñ Analyze
                      Selected</button>
                    <button class="table-btn" onclick="clearSelection()" style="padding: 0.5rem 0.75rem;">‚úï
                      Clear</button>
                  </div>
                </div>

                <table class="data-table">
                  <thead>
                    <tr>
                      <th style="width: 50px; text-align: center;">
                        <input type="checkbox" id="selectAll" onclick="toggleSelectAll()" class="row-checkbox"
                          style="width: 18px; height: 18px; cursor: pointer;">
                      </th>
                      <th>BEN</th>
                      <th>Organization</th>
                      <th>Status</th>
                      <th>Amount</th>
                      <th>Denial Reason</th>
                      <th style="width: 100px; text-align: center;">Portfolio</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="selectable-row selected" onclick="toggleRow(this)">
                      <td style="text-align: center;">
                        <input type="checkbox" class="row-checkbox" checked
                          style="width: 18px; height: 18px; cursor: pointer;">
                      </td>
                      <td>16012345</td>
                      <td><strong>Sunrise Academy</strong></td>
                      <td><span class="status-badge denied">Denied</span></td>
                      <td>$45,000</td>
                      <td>Competitive bid violation</td>
                      <td style="text-align: center;">
                        <button class="add-portfolio-btn added" onclick="event.stopPropagation();">‚úì Added</button>
                      </td>
                    </tr>
                    <tr class="selectable-row selected" onclick="toggleRow(this)">
                      <td style="text-align: center;">
                        <input type="checkbox" class="row-checkbox" checked
                          style="width: 18px; height: 18px; cursor: pointer;">
                      </td>
                      <td>16023456</td>
                      <td><strong>Pacific Grove Schools</strong></td>
                      <td><span class="status-badge denied">Denied</span></td>
                      <td>$128,500</td>
                      <td>Missing documentation</td>
                      <td style="text-align: center;">
                        <button class="add-portfolio-btn" onclick="event.stopPropagation(); addToPortfolio(this);">+
                          Add</button>
                      </td>
                    </tr>
                    <tr class="selectable-row" onclick="toggleRow(this)">
                      <td style="text-align: center;">
                        <input type="checkbox" class="row-checkbox" style="width: 18px; height: 18px; cursor: pointer;">
                      </td>
                      <td>16034567</td>
                      <td><strong>Valley View District</strong></td>
                      <td><span class="status-badge denied">Denied</span></td>
                      <td>$67,200</td>
                      <td>Ineligible services</td>
                      <td style="text-align: center;">
                        <button class="add-portfolio-btn" onclick="event.stopPropagation(); addToPortfolio(this);">+
                          Add</button>
                      </td>
                    </tr>
                    <tr class="selectable-row" onclick="toggleRow(this)">
                      <td style="text-align: center;">
                        <input type="checkbox" class="row-checkbox" style="width: 18px; height: 18px; cursor: pointer;">
                      </td>
                      <td>16045678</td>
                      <td><strong>Coastal Learning Center</strong></td>
                      <td><span class="status-badge denied">Denied</span></td>
                      <td>$89,000</td>
                      <td>Late filing</td>
                      <td style="text-align: center;">
                        <button class="add-portfolio-btn" onclick="event.stopPropagation(); addToPortfolio(this);">+
                          Add</button>
                      </td>
                    </tr>
                    <tr class="selectable-row" onclick="toggleRow(this)">
                      <td style="text-align: center;">
                        <input type="checkbox" class="row-checkbox" style="width: 18px; height: 18px; cursor: pointer;">
                      </td>
                      <td>16056789</td>
                      <td><strong>Mountain High Academy</strong></td>
                      <td><span class="status-badge denied">Denied</span></td>
                      <td>$156,750</td>
                      <td>Cost allocation error</td>
                      <td style="text-align: center;">
                        <button class="add-portfolio-btn" onclick="event.stopPropagation(); addToPortfolio(this);">+
                          Add</button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <div class="chat-input-container">
            <div class="chat-input-wrapper">
              <input type="text" class="chat-input" placeholder="Ask a follow-up question...">
              <button class="send-btn">‚Üë</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ============================================
         ANALYSIS VIEW
         ============================================ -->
    <div id="analysis" class="screen">
      <div class="dashboard">
        <div class="sidebar">
          <div class="sidebar-brand">
            <div class="logo-icon"><img src="favicon.ico" alt="SkyRate AI"></div>
            <div class="sidebar-brand-text">
              <p>E-Rate Intelligence</p>
            </div>
          </div>
          <div class="sidebar-section">
            <div class="sidebar-section-title">üìä Analysis Queue</div>
            <div class="nav-item active">
              <span class="nav-icon">üìÑ</span>
              <span class="nav-label">Sunrise Academy</span>
            </div>
            <div class="nav-item">
              <span class="nav-icon">üìÑ</span>
              <span class="nav-label">Pacific Grove</span>
            </div>
          </div>
        </div>

        <div class="main-content">
          <div class="analysis-card">
            <div class="analysis-header">
              <div class="analysis-entity">
                <div class="entity-avatar">SA</div>
                <div class="entity-info">
                  <h3>Sunrise Academy</h3>
                  <p>BEN: 16012345 ‚Ä¢ FY 2024 ‚Ä¢ Category 2</p>
                </div>
              </div>
              <span class="status-badge denied">Denied</span>
            </div>

            <div class="analysis-metrics">
              <div class="metric-card">
                <div class="metric-value">$45,000</div>
                <div class="metric-label">Amount Requested</div>
              </div>
              <div class="metric-card">
                <div class="metric-value">85%</div>
                <div class="metric-label">Discount Rate</div>
              </div>
              <div class="metric-card">
                <div class="metric-value">High</div>
                <div class="metric-label">Appeal Potential</div>
              </div>
              <div class="metric-card">
                <div class="metric-value">Feb 15</div>
                <div class="metric-label">Appeal Deadline</div>
              </div>
            </div>

            <div class="analysis-section">
              <h4>üîç Denial Analysis</h4>
              <ul class="insight-list">
                <li class="insight-item">
                  <span class="insight-icon">‚ö†Ô∏è</span>
                  <span class="insight-text">
                    <strong>Primary Issue:</strong> Competitive bid violation - The applicant did not obtain the
                    required number of bids (received 2, needed 3 for this amount).
                  </span>
                </li>
                <li class="insight-item">
                  <span class="insight-icon">üìã</span>
                  <span class="insight-text">
                    <strong>Documentation Gap:</strong> Form 470 was posted for only 21 days instead of the required
                    28-day posting period.
                  </span>
                </li>
              </ul>
            </div>

            <div class="analysis-section">
              <h4>‚ú® AI Recommendations</h4>
              <ul class="insight-list">
                <li class="insight-item">
                  <span class="insight-icon">üí°</span>
                  <span class="insight-text">
                    <strong>Appeal Strategy:</strong> Document that a third bid was solicited but vendor declined to
                    respond. Include email correspondence as evidence of good-faith effort.
                  </span>
                </li>
                <li class="insight-item">
                  <span class="insight-icon">üìù</span>
                  <span class="insight-text">
                    <strong>Form 470 Issue:</strong> Request waiver citing minor procedural error (21 vs 28 days) with
                    documentation showing no additional bids were received during the extension period in subsequent
                    attempts.
                  </span>
                </li>
                <li class="insight-item">
                  <span class="insight-icon">üìû</span>
                  <span class="insight-text">
                    <strong>Contact Info:</strong> Dr. Sarah Johnson, Technology Director ‚Ä¢
                    sarah.johnson@sunriseacademy.edu ‚Ä¢ (555) 123-4567
                  </span>
                </li>
              </ul>
            </div>

            <div style="display: flex; gap: 12px; margin-top: 1.5rem;">
              <button class="btn btn-primary" style="width: auto;">üìÑ Generate Appeal Letter</button>
              <button class="table-btn">üì• Export Analysis</button>
              <button class="table-btn">üìß Email to Client</button>
            </div>
          </div>

          <div class="chat-input-container">
            <div class="chat-input-wrapper">
              <input type="text" class="chat-input" placeholder="Ask about this analysis...">
              <button class="send-btn">‚Üë</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    function showScreen(screenId) {
      // Hide all screens
      document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
      // Show selected screen
      document.getElementById(screenId).classList.add('active');
      // Update tabs
      document.querySelectorAll('.preview-tab').forEach(t => t.classList.remove('active'));
      event.target.classList.add('active');
    }

    function setTheme(theme) {
      const screens = document.querySelectorAll('.screen');
      if (theme === 'dark') {
        screens.forEach(s => s.classList.add('dark'));
      } else {
        screens.forEach(s => s.classList.remove('dark'));
      }
      // Update buttons
      document.querySelectorAll('.theme-btn').forEach(b => b.classList.remove('active'));
      event.target.classList.add('active');
    }

    // Row selection functionality
    function toggleRow(row) {
      const checkbox = row.querySelector('.row-checkbox');
      checkbox.checked = !checkbox.checked;
      row.classList.toggle('selected', checkbox.checked);
      updateSelectionToolbar();
    }

    function toggleSelectAll() {
      const selectAll = document.getElementById('selectAll');
      const rows = document.querySelectorAll('.selectable-row');
      rows.forEach(row => {
        const checkbox = row.querySelector('.row-checkbox');
        checkbox.checked = selectAll.checked;
        row.classList.toggle('selected', selectAll.checked);
      });
      updateSelectionToolbar();
    }

    function clearSelection() {
      const rows = document.querySelectorAll('.selectable-row');
      rows.forEach(row => {
        const checkbox = row.querySelector('.row-checkbox');
        checkbox.checked = false;
        row.classList.remove('selected');
      });
      document.getElementById('selectAll').checked = false;
      updateSelectionToolbar();
    }

    function updateSelectionToolbar() {
      const selectedRows = document.querySelectorAll('.selectable-row.selected');
      const toolbar = document.getElementById('selectionToolbar');
      const countSpan = document.getElementById('selectedCount');

      if (selectedRows.length > 0) {
        toolbar.style.display = 'flex';
        countSpan.textContent = selectedRows.length;
      } else {
        toolbar.style.display = 'none';
      }
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', updateSelectionToolbar);

    // Portfolio Tab Switching
    function showPortfolioTab(tabId) {
      // Hide all tabs
      document.querySelectorAll('.portfolio-tab-content').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.portfolio-tab-content').forEach(t => t.style.display = 'none');
      // Show selected
      const tab = document.getElementById('portfolio-' + tabId);
      tab.classList.add('active');
      tab.style.display = 'block';
      // Update buttons
      document.querySelectorAll('.portfolio-tab').forEach(b => b.classList.remove('active'));
      event.target.classList.add('active');
    }

    // Add to Portfolio
    function addToPortfolio(btn) {
      btn.classList.add('added');
      btn.innerHTML = '‚úì Added';
      // Show toast notification
      showToast('Added to portfolio!');
    }

    // Download CSV Template
    function downloadTemplate() {
      const template = 'organization_name,ben,state,funding_year,category\nExample School,16012345,CA,2024,2\n';
      const blob = new Blob([template], { type: 'text/csv' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'portfolio_template.csv';
      a.click();
      showToast('Template downloaded!');
    }

    // Toast notification
    function showToast(message) {
      const toast = document.createElement('div');
      toast.style.cssText = 'position: fixed; bottom: 100px; left: 50%; transform: translateX(-50%); background: #10B981; color: white; padding: 0.75rem 1.5rem; border-radius: 8px; font-weight: 500; z-index: 9999; animation: slideUp 0.3s ease;';
      toast.textContent = message;
      document.body.appendChild(toast);
      setTimeout(() => toast.remove(), 2000);
    }

    // Account Type Selection
    let currentAccountType = localStorage.getItem('accountType') || 'consultant';

    function selectAccountType(type) {
      currentAccountType = type;
      localStorage.setItem('accountType', type);

      const options = document.querySelectorAll('.account-type-option');
      options.forEach(opt => opt.classList.remove('selected'));
      event.currentTarget.classList.add('selected');

      const licenseField = document.getElementById('licenseField');
      const spinField = document.getElementById('spinField');

      if (type === 'consultant') {
        licenseField.style.display = 'block';
        spinField.style.display = 'none';
      } else {
        licenseField.style.display = 'none';
        spinField.style.display = 'block';
      }

      updateVendorOnlyVisibility();
    }

    // Show/hide vendor-only features based on account type
    function updateVendorOnlyVisibility() {
      const vendorOnlyElements = document.querySelectorAll('.vendor-only');
      vendorOnlyElements.forEach(el => {
        el.style.display = currentAccountType === 'vendor' ? 'flex' : 'none';
      });
    }

    // Initialize vendor-only visibility on page load
    document.addEventListener('DOMContentLoaded', function () {
      updateVendorOnlyVisibility();
    });
  </script>
</body>

</html>